{"version":3,"sources":["components/Loader.js","components/chat.js","components/utils/consts.js","components/routes.js","components/login.js","components/AppRouter.js","components/navbar.js","App.js","index.js"],"names":["Loader","Container","Grid","container","style","height","window","innerHeight","alignItems","justifyContent","direction","className","Chat","useContext","Context","auth","firestore","useAuthState","user","useState","value","setValue","useCollectionData","collection","orderBy","messages","loading","sendMessage","a","add","uid","displayName","photoURL","text","createdAt","firebase","FieldValue","serverTimestamp","marginTop","id","onChange","setTimeout","objDiv","document","getElementById","scrollTop","scrollHeight","width","boxShadow","borderRadius","overflowY","map","message","padding","margin","marginLeft","Avatar","src","paddingLeft","background","fontSize","color","maxWidth","TextField","onKeyPress","ev","key","preventDefault","label","variant","rowsMax","marginRight","e","target","Button","type","onClick","size","LOGIN_ROUTE","CHAT_ROUTE","publicRoutes","path","Component","login","provider","GoogleAuthProvider","signInWithPopup","Box","p","privateRoutes","AppRouter","component","exact","to","Navbar","AppBar","position","Toolbar","signOut","App","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","createContext","ReactDOM","render","Provider"],"mappings":"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","file":"static/js/main.7b87c624.chunk.js","sourcesContent":["import { Container, Grid } from \"@material-ui/core\"\r\nimport React from \"react\"\r\nimport \"./../App.css\"\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <Container>\r\n      <Grid\r\n        container\r\n        style={{ height: window.innerHeight - 65 }}\r\n        alignItems={\"center\"}\r\n        justifyContent={\"center\"}\r\n      >\r\n        <Grid container alignItems={\"center\"} direction={\"column\"}>\r\n          <div className=\"lds-default\">\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Loader\r\n","import { Avatar, Button, Container, Grid, TextField } from \"@material-ui/core\"\r\nimport React, { useContext, useState } from \"react\"\r\nimport { useAuthState } from \"react-firebase-hooks/auth\"\r\nimport { useCollectionData } from \"react-firebase-hooks/firestore\"\r\nimport { Context } from \"..\"\r\nimport Loader from \"./Loader\"\r\nimport firebase from \"firebase/app\"\r\n\r\nconst Chat = () => {\r\n  const { auth, firestore } = useContext(Context)\r\n  const [user] = useAuthState(auth)\r\n  const [value, setValue] = useState(\"\")\r\n  const [messages, loading] = useCollectionData(\r\n    firestore.collection(\"messages\").orderBy(\"createdAt\")\r\n  )\r\n  var Scroll = () => {\r\n    setTimeout(function () {\r\n      var objDiv = document.getElementById(\"change\")\r\n      objDiv.scrollTop = objDiv.scrollHeight\r\n    }, 1)\r\n  }\r\n\r\n  const sendMessage = async () => {\r\n    firestore.collection(\"messages\").add({\r\n      uid: user.uid,\r\n      displayName: user.displayName,\r\n      photoURL: user.photoURL,\r\n      text: value,\r\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\r\n    })\r\n    setValue(\"\")\r\n  }\r\n\r\n  if (loading) {\r\n    return <Loader />\r\n  }\r\n  return (\r\n    <Container>\r\n      <Grid\r\n        container\r\n        justifyContent={\"center\"}\r\n        style={{ height: window.innerHeight - 70, marginTop: 20 }}\r\n      >\r\n        <div\r\n          id=\"change\"\r\n          onChange={Scroll()}\r\n          style={{\r\n            width: \"60%\",\r\n            height: \"75vh\",\r\n            boxShadow:\r\n              \"0 4px 8px 0 rgba(0, 0, 0, 0.1), 0 6px 30px 0 rgba(0, 0, 0, 0.19)\",\r\n            borderRadius: \"10px\",\r\n            overflowY: \"auto\",\r\n          }}\r\n        >\r\n          {messages.map((message) => (\r\n            <div\r\n              key={message.createdAt}\r\n              style={{\r\n                padding: \"10px\",\r\n                margin: \"10px\",\r\n                width: \"fit-content\",\r\n                marginLeft: message.uid === user.uid ? \"auto\" : \"10px\",\r\n              }}\r\n            >\r\n              <Grid\r\n                style={{\r\n                  width: \"fit-content\",\r\n                  marginLeft: message.uid === user.uid ? \"auto\" : \"0px\",\r\n                }}\r\n                alignItems={\"center\"}\r\n                container\r\n              >\r\n                <Avatar\r\n                  style={{ height: \"30px\", width: \"30px\" }}\r\n                  src={message.photoURL}\r\n                />\r\n                <div\r\n                  style={{\r\n                    paddingLeft: \"5px\",\r\n                    background: \"#EBEBEC\",\r\n                    borderRadius: \"10px\",\r\n                    padding: \"2px 5px\",\r\n                  }}\r\n                >\r\n                  {message.displayName}\r\n                </div>\r\n              </Grid>\r\n              <div\r\n                style={{\r\n                  fontSize: \"23px\",\r\n                  marginTop: \"10px\",\r\n                  padding: \"10px\",\r\n                  color: \"white\",\r\n                  background: \"#1472FF\",\r\n                  borderRadius: \"15px\",\r\n                  width: \"fit-content\",\r\n                  marginLeft: message.uid === user.uid ? \"auto\" : \"10px\",\r\n                  maxWidth: \"80%\",\r\n                }}\r\n              >\r\n                {message.text}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <Grid\r\n          container\r\n          alignItems={\"center\"}\r\n          justifyContent={\"center\"}\r\n          style={{ width: \"60%\" }}\r\n        >\r\n          <TextField\r\n            onKeyPress={(ev) => {\r\n              if ((ev.key === \"Enter\") & (value !== \"\")) {\r\n                sendMessage()\r\n\r\n                ev.preventDefault()\r\n              }\r\n            }}\r\n            label=\"Message...\"\r\n            variant=\"outlined\"\r\n            rowsMax={2}\r\n            style={{ width: \"80%\", marginRight: \"25px\" }}\r\n            value={value}\r\n            onChange={(e) => setValue(e.target.value)}\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            onClick={value !== \"\" ? sendMessage : null}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"large\"\r\n          >\r\n            Send\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Chat\r\n","export const LOGIN_ROUTE = \"/react-chat/login\"\r\nexport const CHAT_ROUTE = \"/react-chat/chat\"\r\n","import Chat from \"./chat\"\r\nimport Login from \"./login\"\r\nimport { CHAT_ROUTE, LOGIN_ROUTE } from \"./utils/consts\"\r\n\r\nexport const publicRoutes = [\r\n  {\r\n    path: LOGIN_ROUTE,\r\n    Component: Login,\r\n  },\r\n]\r\n\r\nexport const privateRoutes = [\r\n  {\r\n    path: CHAT_ROUTE,\r\n    Component: Chat,\r\n  },\r\n]\r\n","import { Box, Button, Container, Grid } from \"@material-ui/core\"\r\nimport React, { useContext } from \"react\"\r\nimport { Context } from \"../index\"\r\nimport firebase from \"firebase/app\"\r\n\r\nconst Login = () => {\r\n  const { auth } = useContext(Context)\r\n  const login = async () => {\r\n    const provider = new firebase.auth.GoogleAuthProvider()\r\n    await auth.signInWithPopup(provider)\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Grid\r\n        container\r\n        style={{ height: window.innerHeight - 50 }}\r\n        alignItems={\"center\"}\r\n        justifyContent={\"center\"}\r\n      >\r\n        <Grid\r\n          style={{\r\n            width: 400,\r\n            boxShadow:\r\n              \"0 4px 8px 0 rgba(0, 0, 0, 0.1), 0 6px 30px 0 rgba(0, 0, 0, 0.19)\",\r\n            borderRadius: \"10px\",\r\n          }}\r\n          container\r\n          alignItems={\"center\"}\r\n          direction={\"column\"}\r\n        >\r\n          <Box p={5}>\r\n            <Button onClick={login} variant={\"outlined\"}>\r\n              Login via Google\r\n            </Button>\r\n          </Box>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import React, { useContext } from \"react\"\r\nimport { Route, Switch, Redirect } from \"react-router-dom\"\r\nimport { Context } from \"..\"\r\nimport { privateRoutes, publicRoutes } from \"./routes\"\r\nimport { CHAT_ROUTE, LOGIN_ROUTE } from \"./utils/consts\"\r\nimport { useAuthState } from \"react-firebase-hooks/auth\"\r\n\r\nconst AppRouter = () => {\r\n  const { auth } = useContext(Context)\r\n  const [user] = useAuthState(auth)\r\n  return user ? (\r\n    <Switch>\r\n      {privateRoutes.map(({ path, Component }) => (\r\n        <Route key={path} path={path} component={Component} exact={true} />\r\n      ))}\r\n      <Redirect to={CHAT_ROUTE} />\r\n    </Switch>\r\n  ) : (\r\n    <Switch>\r\n      {publicRoutes.map(({ path, Component }) => (\r\n        <Route key={path} path={path} component={Component} exact={true} />\r\n      ))}\r\n      <Redirect to={LOGIN_ROUTE} />\r\n    </Switch>\r\n  )\r\n}\r\n\r\nexport default AppRouter\r\n","import React, { useContext } from \"react\"\r\nimport AppBar from \"@material-ui/core/AppBar\"\r\nimport Toolbar from \"@material-ui/core/Toolbar\"\r\nimport { Button, Grid } from \"@material-ui/core\"\r\nimport { NavLink } from \"react-router-dom\"\r\nimport { LOGIN_ROUTE } from \"./utils/consts\"\r\nimport { useAuthState } from \"react-firebase-hooks/auth\"\r\nimport { Context } from \"..\"\r\n\r\nconst Navbar = () => {\r\n  const { auth } = useContext(Context)\r\n  const [user] = useAuthState(auth)\r\n  return (\r\n    <AppBar position=\"static\">\r\n      <Toolbar variant=\"dense\">\r\n        <Grid container justifyContent={\"flex-end\"}>\r\n          {user ? (\r\n            <Button\r\n              size=\"small\"\r\n              onClick={() => auth.signOut()}\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n            >\r\n              Logout\r\n            </Button>\r\n          ) : (\r\n            <NavLink to={LOGIN_ROUTE}></NavLink>\r\n          )}\r\n        </Grid>\r\n      </Toolbar>\r\n    </AppBar>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","import React, { useContext } from \"react\"\nimport { Context } from \"././index\"\nimport { BrowserRouter } from \"react-router-dom\"\nimport \"./App.css\"\nimport AppRouter from \"./components/AppRouter\"\nimport Loader from \"./components/Loader\"\nimport Navbar from \"./components/navbar\"\nimport { useAuthState } from \"react-firebase-hooks/auth\"\n\nconst App = () => {\n  const { auth } = useContext(Context)\n  const [, loading] = useAuthState(auth)\n\n  if (loading) {\n    return <Loader />\n  }\n\n  return (\n    <BrowserRouter>\n      <Navbar />\n      <AppRouter />\n    </BrowserRouter>\n  )\n}\n\nexport default App\n","import React, { createContext } from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\nimport firebase from \"firebase/app\"\nimport \"firebase/firestore\"\nimport \"firebase/auth\"\n\nfirebase.initializeApp({\n  apiKey: \"AIzaSyANs7sxdOLaw-nxuB75SaxymumYI8ZFzvM\",\n  authDomain: \"reactchat-6f2ee.firebaseapp.com\",\n  projectId: \"reactchat-6f2ee\",\n  storageBucket: \"reactchat-6f2ee.appspot.com\",\n  messagingSenderId: \"183819522684\",\n  appId: \"1:183819522684:web:e86763fe207358f56feff9\",\n  measurementId: \"G-ETHGFZ2KTV\",\n})\n\nexport const Context = createContext(null)\n\nconst auth = firebase.auth()\nconst firestore = firebase.firestore()\n\nReactDOM.render(\n  <Context.Provider\n    value={{\n      firebase,\n      auth,\n      firestore,\n    }}\n  >\n    <App />\n  </Context.Provider>,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}