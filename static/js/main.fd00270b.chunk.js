(this.webpackJsonpreactchat=this.webpackJsonpreactchat||[]).push([[0],{59:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return E}));var a=n(0),c=n(12),i=n.n(c),r=n(25),s=n(42),o=(n(59),n(14)),j=n(38),d=n.n(j),u=n(47),x=n(116),b=n(119),l=n(126),h=n(122),p=n(125),O=n(30),f=n(60),g=n(5),m=function(){return Object(g.jsx)(x.a,{children:Object(g.jsx)(b.a,{container:!0,style:{height:window.innerHeight-65},alignItems:"center",justifyContent:"center",children:Object(g.jsx)(b.a,{container:!0,alignItems:"center",direction:"column",children:Object(g.jsxs)("div",{className:"lds-default",children:[Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{})]})})})})},v=n(29),y=function(){var e=Object(a.useContext)(E),t=e.auth,n=e.firestore,c=Object(O.a)(t),i=Object(r.a)(c,1)[0],s=Object(a.useState)(""),o=Object(r.a)(s,2),j=o[0],y=o[1],w=Object(f.a)(n.collection("messages").orderBy("createdAt")),C=Object(r.a)(w,2),I=C[0],k=C[1],L=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.collection("messages").add({uid:i.uid,displayName:i.displayName,photoURL:i.photoURL,text:j,createdAt:v.a.firestore.FieldValue.serverTimestamp()}),y("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return k?Object(g.jsx)(m,{}):Object(g.jsx)(x.a,{children:Object(g.jsxs)(b.a,{container:!0,justifyContent:"center",style:{height:window.innerHeight-70,marginTop:20},children:[Object(g.jsx)("div",{style:{width:"60%",height:"75vh",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.1), 0 6px 30px 0 rgba(0, 0, 0, 0.19)",borderRadius:"10px",overflowY:"auto"},children:I.map((function(e){return Object(g.jsxs)("div",{style:{padding:"10px",margin:"10px",width:"fit-content",marginLeft:e.uid===i.uid?"auto":"10px"},children:[Object(g.jsxs)(b.a,{style:{width:"fit-content",marginLeft:e.uid===i.uid?"auto":"0px"},alignItems:"center",container:!0,children:[Object(g.jsx)(l.a,{style:{height:"30px",width:"30px"},src:e.photoURL}),Object(g.jsx)("div",{style:{paddingLeft:"5px",background:"#EBEBEC",borderRadius:"10px",padding:"2px 5px"},children:e.displayName})]}),Object(g.jsx)("div",{style:{fontSize:"23px",marginTop:"10px",padding:"10px",color:"white",background:"#1472FF",borderRadius:"15px",width:"fit-content",marginLeft:e.uid===i.uid?"auto":"10px",maxWidth:"80%"},children:e.text})]},e.createdAt)}))}),Object(g.jsxs)(b.a,{container:!0,alignItems:"center",justifyContent:"center",style:{width:"60%"},children:[Object(g.jsx)(h.a,{onKeyPress:function(e){"Enter"===e.key&""!==j&&(L(),e.preventDefault())},label:"Message...",variant:"outlined",rowsMax:2,style:{width:"80%",marginRight:"25px"},value:j,onChange:function(e){return y(e.target.value)}}),Object(g.jsx)(p.a,{type:"submit",onClick:""!==j?L:null,variant:"contained",color:"primary",size:"large",children:"Send"})]})]})})},w=n(124),C="/login",I="/chat",k=[{path:C,Component:function(){var e=Object(a.useContext)(E).auth,t=function(){var t=Object(u.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new v.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(g.jsx)(x.a,{children:Object(g.jsx)(b.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justifyContent:"center",children:Object(g.jsx)(b.a,{style:{width:400,boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.1), 0 6px 30px 0 rgba(0, 0, 0, 0.19)",borderRadius:"10px"},container:!0,alignItems:"center",direction:"column",children:Object(g.jsx)(w.a,{p:5,children:Object(g.jsx)(p.a,{onClick:t,variant:"outlined",children:"Login via Google"})})})})})}}],L=[{path:I,Component:y}],R=function(){var e=Object(a.useContext)(E).auth,t=Object(O.a)(e);return Object(r.a)(t,1)[0]?Object(g.jsxs)(o.d,{children:[L.map((function(e){var t=e.path,n=e.Component;return Object(g.jsx)(o.b,{path:t,component:n,exact:!0},t)})),Object(g.jsx)(o.a,{to:I})]}):Object(g.jsxs)(o.d,{children:[k.map((function(e){var t=e.path,n=e.Component;return Object(g.jsx)(o.b,{path:t,component:n,exact:!0},t)})),Object(g.jsx)(o.a,{to:C})]})},S=n(120),A=n(121),z=function(){var e=Object(a.useContext)(E).auth,t=Object(O.a)(e),n=Object(r.a)(t,1)[0];return Object(g.jsx)(S.a,{position:"static",children:Object(g.jsx)(A.a,{variant:"dense",children:Object(g.jsx)(b.a,{container:!0,justifyContent:"flex-end",children:n?Object(g.jsx)(p.a,{size:"small",onClick:function(){return e.signOut()},variant:"contained",color:"secondary",children:"Logout"}):Object(g.jsx)(s.b,{to:C})})})})},B=function(){var e=Object(a.useContext)(E).auth,t=Object(O.a)(e);return Object(r.a)(t,2)[1]?Object(g.jsx)(m,{}):Object(g.jsxs)(s.a,{children:[Object(g.jsx)(z,{}),Object(g.jsx)(R,{})]})};n(88),n(85);v.a.initializeApp({apiKey:"AIzaSyANs7sxdOLaw-nxuB75SaxymumYI8ZFzvM",authDomain:"reactchat-6f2ee.firebaseapp.com",projectId:"reactchat-6f2ee",storageBucket:"reactchat-6f2ee.appspot.com",messagingSenderId:"183819522684",appId:"1:183819522684:web:e86763fe207358f56feff9",measurementId:"G-ETHGFZ2KTV"});var E=Object(a.createContext)(null),F=v.a.auth(),N=v.a.firestore();i.a.render(Object(g.jsx)(E.Provider,{value:{firebase:v.a,auth:F,firestore:N},children:Object(g.jsx)(B,{})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.fd00270b.chunk.js.map